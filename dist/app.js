const $input=document.querySelector(".input");document.querySelectorAll(".num__key").forEach(e=>{e.onclick=()=>$input.innerText="0"!==$input.innerText?$input.innerText+e.innerText:e.innerText});const buffer=[],operatorCallback=e=>()=>{let t=parseFloat($input.innerText);if("percent"==e)t*=.01,$input.innerText=t;else if(buffer&&buffer.length){buffer.push({value:t});const n=evaluate(buffer);buffer.push({value:n}),buffer.push({value:e}),$input.innerText=""}else buffer.push({value:t}),buffer.push({value:e}),$input.innerText=""},evaluate=e=>{const t=e.pop().value,n=e.pop().value,r=e.pop().value;switch(n){case"add":return r+t;case"subtract":return r-t;case"multiply":return r*t;case"divide":return r/t;default:return t}};for(const e of["add","subtract","multiply","divide","percent"])document.querySelector(`.op__key[op=${e}]`).onclick=operatorCallback(e);document.querySelector(".eq__key").onclick=()=>{buffer&&buffer.length&&(buffer.push({value:parseFloat($input.innerText)}),$input.innerText=evaluate(buffer))},document.querySelector(".op__key[op=clear]").onclick=()=>{$input.innerText=0,buffer.length=0},document.querySelector(".op__key[op=negate]").onclick=()=>$input.innerText=-parseFloat($input.innerText),document.querySelector(".neumorphic_btn").onclick=()=>{document.querySelector("#container").classList.add("neumorphic"),document.querySelector("#container").classList.remove("frosted"),document.querySelector("#container").classList.remove("flat")},document.querySelector(".frosted_btn").onclick=()=>{document.querySelector("#container").classList.add("frosted"),document.querySelector("#container").classList.remove("neumorphic"),document.querySelector("#container").classList.remove("flat")};